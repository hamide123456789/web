{% extends 'base.html' %}

{% block body %}
<p>{{ product.name }}</p>
    <a href="{% url 'home:product_update_view' product.id %}">ویرایش</a>
    <a href="{% url 'home:product_delete_view' product.id %}">حذف</a>

{% endblock %}


{% block script %}
<head>
  <script
  src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
  </script>
</head>
    <div class="row mt-2">
        <div class="col-md-4 mt-2">
            <form action="" method="post">

              {% csrf_token %}
              {{product.name}}
                
              <input class="btn btn-success mt-2" type="submit" value="Add Data">

            </form>
        </div>
    </div>
<body>
    <canvas id="myChart" style="width:100%;max-width:700px"></canvas>

<script>
const myChart = new Chart("myChart", {
  type: "scatter",
  data: {},
  options: {}
});
var xValues = [];
var yValues = [];
var barColors = ["red", "green","blue","orange","brown"];

new Chart("myChart", {
  type: "bar",
  data: {
    labels: [
      {% for i in change %} {% if products.id == i.product_id %} '{{ i.update }}'  {% endif %} ,{% endfor %}],
      datasets: [{
      backgroundColor:[
        {% for i in change %} '{{ i.color }}' ,{% endfor %}
      ],
      barColors,
      data: yValues
    }]
  },
});
</script>
</body>

{% endblock %}